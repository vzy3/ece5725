<!doctype html>
<!--[if IE 7 ]>    <html lang="en-gb" class="isie ie7 oldie no-js"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en-gb" class="isie ie8 oldie no-js"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en-gb" class="isie ie9 no-js"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="en-gb" class="no-js">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!--[if lt IE 9]> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <![endif]-->
  <title>ECE5725 Volumetric Display</title>
  <meta name="description" content="">
  <meta name="author" content="WebThemez">
  <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <!--[if lte IE 8]>
		<script type="text/javascript" src="http://explorercanvas.googlecode.com/svn/trunk/excanvas.js"></script>
	<![endif]-->
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="css/isotope.css" media="screen" />
  <link rel="stylesheet" href="js/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
  <link href="css/animate.css" rel="stylesheet" media="screen">
  <!-- Owl Carousel Assets -->
  <link href="js/owl-carousel/owl.carousel.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Font Awesome -->
  <link href="font/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="container">
      <nav class="navbar navbar-inverse" role="navigation">
        <div class="navbar-header">
          <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
            <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span>
            <span class="icon-bar"></span> </button>
          <a href="#" class="navbar-brand scroll-top logo  animated bounceInLeft"><b><i><img
                  src="images/volumetriclogo.png" /></i></b></a>
        </div>
        <!--/.navbar-header-->
        <div id="main-nav" class="collapse navbar-collapse">
          <ul class="nav navbar-nav" id="mainNav">
            <li class="active" id="firstLink"><a href="#Home" class="scroll-link">Home</a></li>
            <li><a href="#Introduction" class="scroll-link">Introduction</a></li>
            <li><a href="#Design & Testing" class="scroll-link">Design & Testing</a></li>
            <li><a href="#Development Process" class="scroll-link">Development Process</a></li>
            <li><a href="#Results" class="scroll-link">Results</a></li>
            <li><a href="#Future Work" class="scroll-link">Future Work</a></li>
            <li><a href="#Team" class="scroll-link">Team</a></li>
            <li><a href="#Appendix" class="scroll-link">Appendix</a></li>
          </ul>
        </div>
        <!--/.navbar-collapse-->
      </nav>
      <!--/.navbar-->
    </div>
    <!--/.container-->
  </header>
  <!--/.header-->
  <div id="#top"></div>
  <section id="Home">
    <div class="banner-container">
      <div id="carousel" class="carousel slide carousel-fade" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carousel" data-slide-to="0" class="active"></li>
          <li data-target="#carousel" data-slide-to="1"></li>
          <li data-target="#carousel" data-slide-to="2"></li>
        </ol>
        <!-- Carousel items -->
        <div class="carousel-inner">
          <div class="active item"><img src="images/led.jpeg" alt="banner" /></div>
          <div class="item"><img src="images/led.jpeg" alt="banner" /></div>
          <div class="item"><img src="images/led.jpeg" alt="banner" /></div>
        </div>
        <!-- Carousel nav -->
        <a class="carousel-control left" href="#carousel" data-slide="prev">&lsaquo;</a>
        <a class="carousel-control right" href="#carousel" data-slide="next">&rsaquo;</a>
      </div>

    </div>
  </section>

  <section id="Introduction">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Volumetric Display</h2>
        <p>Yueming Liu (yl3426) and Vicki Yang (vzy3)</p>
        <p>Spring 2024</p>
      </div>

      <div class="container">
        <div class="heading text-center">
          <iframe width="640" height="500" src="https://www.youtube.com/embed?v=et91Gea6CPk" frameborder="0"
            allowfullscreen></iframe>
          <h4 style="text-align:center;">Demo Video</h4>
        </div>
      </div>

      <div class="heading text-center">
        <!-- Heading -->
        <h2>Introduction</h2>
      </div>
      <p>Flat LED displays provide convenient ways to display images in 2D, but 2D displays can feel flat and
        lifeless.Our project is a volumetric display and aims to display images in 3D. Using a spinning matrix of LEDs,
        3D images and animations can be displayed with a persistence of vision effect.
      </p>
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Project Objective</h2>
      </div>
      <p>The goal of our project was to use the persistence of vision effect to display 3D images and animations using a
        2D LED matrix. Through spinning the LED matrix, we want to utilize the persistence of vision effect to blink
        LEDs in rapid succession to generate images and animations that make it appear as if there is a 3D display, like
        a hologram. In essence, we want to create 3D from 2D. More broadly, one of the motivations behind our project is
        as a method for creating mesmerizing customizable 3D light displays in cities like New York for holidays and
        special events.
      </p>
    </div>
  </section>

  <section id="Design & Testing" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Design</h2>
      </div>
      <img class="img-centered" src="images/fullsystem.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Complete Volumetric Display</h5>
      </div>
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Hardware Design</h2>
      </div>
      <p>Our hardware setup consisted of the following components: a laser cut acrylic frame that supports a DC motor,
        the LED matrix made up of WS2812 LED strips, and photo gate, a Raspberry Pi 4 and PiTFT, an Arduino Uno, and a
        slip ring and wires. The DC motor was built into the frame and is used to rotate the LED matrix. The LED
        matrix consists of 15 LED strips attached to custom cut acrylic pieces arranged in a grid. To control the LED
        matrix, an Arduino Uno was used. The arduino is connected to a photo interrupter (IR sensor) that is attached
        to the frame and is used to detect the starting point of the display to properly show images and refresh LEDs.
        The Raspberry Pi communicates with the Arduino over serial connection to program the LEDs using custom GUI
        control that is accessible on the PiTFT. The LEDs, motor, and Raspberry Pi are powered using separate power
        supplies/sources.
      </p>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>Frame and LED Setup</h3>
      </div>
      <p>The key part of a persistence of vision/volumetric display is the spinning of LEDs. For our spinning LED
        component, we chose to have a grid display made up of LED strips arranged as a matrix. Our LED matrix consisted
        of 15 strips of 18 LEDs. We opted to use a DC motor to rotate the matrix. In order to ensure that there was
        minimal wobble while the display was spinning, we decided to design and build a custom frame. The frame was
        constructed using laser cut acrylic. We used clear acrylic so the LEDs could still be visible even if the
        display was encased. The frame has cross-shaped top and bottom pieces and four support beams for max stability
        with minimal material use. The motor was built into the frame to keep it stable while operating. Due to this, we
        aren't able to switch out the motor without disassembling the frame. The motor mount can be seen below:
      </p>
      <img class="img-centered" src="images/framebottom.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Display Frame Bottom with Motor Mounted</h5>
      </div>
      <p>The next step in building the display was constructing the LED matrix. To do this, we cut the whole LED strip
        (300 LEDS total) into segments of 18 LEDs and glued these to custom cut acrylic bars. We soldered header pins to
        the ends of each strip to allow for easy testing and connections. The completed LED strips can be seen below:
      </p>
      <img class="img-centered" src="images/ledstrip.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Completed LED Strips</h5>
      </div>
      <p>Once we had constructed all of the LED strips, we assembled them into a matrix and attached the matrix to the
        frame. The LEDs strips fit into a central column through slots and were hot glued in place. Since there wouldn't
        be much force on the LED strips, hot glue is sufficient to hold them in place. We needed to take care to make
        sure that the strips were in alternating directions since the LEDs strip is directional and data must be passed
        from one strip to another in our setup. If the strips were not placed in alternating directions, then we would
        need to have wires traversing the matrix lengthwise. Upon affixing the LED matrix to the motor, we assembled the
        rest of the frame around the LED matrix and secured it in the frame. We attached a slip ring to the top of the
        frame so that the LED matrix could easily spin and wires would not get in the way of it's motion. A close up of
        the slip ring is shown below:
      </p>
      <img class="img-centered" src="images/slipring.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Built-in Slip Ring</h5>
      </div>
      <p>The complete frame can be seen here:</p>
      <img class="img-centered" src="images/frame.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Completed Display Frame with LED Matrix</h5>
      </div>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>Wiring</h3>
      </div>
      <p>Due to lag when lighting up strips of greater than 100 LEDs, we chose to split our matrix up into series
        (sections of LED strips) of four strips each (one ended up going missing so we had a single series of three
        strips at the bottom of our matrix). Since we needed to pass data to four separate LED strips series, we used
        a six wire slip ring. Two of the wires were allocated to power and ground and the remaining wires passed data
        (inputs) to the LED strips. We also needed to connect all the strips to each other to allow for power and ground
        to be transmitted to all LEDs and for data to be passed within a series. Upon the recommendation of a TA and due
        to the labor intensity of soldering all these connections, we simply slipped short pieces of flexible stranded
        wire onto header pins that needed to be connected. The power and ground connections were continuous throughout
        the matrix but the data connections are contained in series (sections of 3-4 LED strips). A close up of this
        wiring method can be seen below (only data connections are shown completed here):
      </p>
      <img class="img-centered" src="images/wireconnection.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Connections Between LED Strips</h5>
      </div>
      <p>Using the slip ring wires, we soldered each wire to its associated data input. The wires were soldered to the
        starting LED of each series. In this setup, each of the four remaining slip ring wires is able to pass data to
        its LED series. This means that each series can be controlled separately (but this also means we need to pay
        close attention to image mapping later on). The completed wiring is shown below:
      </p>
      <img class="img-centered" src="images/wiring.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Full LED Wiring</h5>
      </div>
      <p>
        A t-slot photo interrupter is also mounted to the frame and is used to determine the starting point of the LED
        strip's rotation. This is used in the programs to update LEDs and maintain a consistent display.
      </p>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>Connection to Arduino and Raspberry Pi</h3>
      </div>
      <p>
        The LEDs are controlled by an Arduino Uno (more details on why in the Software Design section). Each series of
        LED strips receives a signal from the Arduino and use pins 3, 5, 6, and 9 on the Arduino. The t-slot photo
        interrupter is also connected to the Arduino using pin 2 and is powered through the Arduino as well. The Arduino
        is connected to the Raspberry Pi using serial connection and the Raspberry Pi itself is connected to a PiTFT
        (touchscreen) to allow for a GUI.
      </p>
      <img class="img-centered" src="images/arduino.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Arduino Wiring</h5>
      </div>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>Powering the System</h3>
      </div>
      <p>The system uses three power sources/supplies in total. The LED matrix and motor are each powered with a power
        supply, using 5V and 3-5V respectively. We experimented with using a battery pack or other stored power supply
        for the LED matrix, however, it resulted in inaccurate lighting patterns, potentially due to the current draw of
        the LED strips. At max brightness, each LED is capable of drawing 60mA of current. The Raspberry Pi is also
        directly powered through an outlet.</p>
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Software Design</h2>
        <p> </p>
      </div>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>LED Control</h3>
      </div>
      <p>
        LED control was surprisingly one of the trickiest aspects of this project. We delve into this further in the
        Development section of this report. In the end, we used an Arduino Uno to control the LEDs with arduino
        programs. Within the arduino programs, we mapped custom image and animation displays to the LEDs. We were able
        to create a persistence of vision display by determining the RPM of the LEDs using the t-slot photo interrupter
        and updating the LEDs using this point of reference.
      </p>
      <img class="img-centered" src="images/photogate.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Photo Interrupter</h5>
      </div>
      <p>
        We implemented a GUI on the Raspberry Pi to control the volumetric display and have it display some preset
        images. The GUI was built using Pygame and displayed on the PiTFT. Once a user selected a preset display using
        one of the on screen buttons, the script would write to a text file (pattern.txt) which is continuously read by
        a C program that uploads programs to the Arduino for the correct display. As a whole, these programs are run in
        a bash script that executes the python script in the foreground and the C program in the background.
      </p>
      <img class="img-centered" src="images/gui.jpeg" alt="" height="300" width="300">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Volumetric Display GUI on PiTFT</h5>
      </div>
      <img class="img-centered" src="images/softwarediagram.png" alt="" height="300" width="600">
      <div class="heading text-center">
        <!-- Heading -->
        <h5>Software Architecture Diagram (High Level)</h5>
      </div>
      <p>
        Volumetric Display mappings were created manually using a map of LED indices and programmed using subsets of
        indices. Since we needed to manually map the displays, we only created four display options for the GUI. Mapping
        3D animation displays required mapping arrays of LEDs that needed to be lit for each frame of the animation.
      </p>
    </div>
  </section>

  <section id="Development Process" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Development Process</h2>
      </div>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>LED Control Journey</h3>
      </div>
      <p>
        Shockingly, controlling the LEDs was very difficult. At first, we tried to use the Adafruit Neopixel Library. We
        soon discovered that this wouldn't be possible since the library only allows for the creation and control of one
        LED strip object at a time and we needed four separate series of LED strips. We then pivoted to trying to use
        DMA to control the LEDs directly from the Raspberry Pi still. Unfortunately, the signal transmit times were too
        slow to properly operate the photo interrupter and LED strips. Since we had exhausted our options of trying to
        control the LEDs using the Raspberry Pi directly, we chose to use an Arduino Uno to control the LEDs and
        communicate with the Arduino using the Raspberry Pi. Ultimately, using the Arduino was the best solution given
        the sitation on hand.
      </p>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>Fabrication Tolerancing and Frame Building</h3>
      </div>
      <p>
        An issue we ran into while building the frame is due to the tolerancing of the design. Since we had many pieces
        that needed to fit together, very little tolerancing in the initial design meant that the pieces could not fit
        together since the fit was too tight. Therefore, the support beams did not fit into the slots of the frame
        initially. To fix this, we used a band saw to sand down the bottoms of the beams so they could be slid into the
        slots and fixed in place. Once we sanded the beams to better fit the slots in the frame, we were able to piece
        everything together nice and securely.
      </p>
      <div class="heading text-center">
        <!-- Heading -->
        <h3>Raspberry Pi and Arduino Communication</h3>
      </div>
      <p>
        Another unexpected issue that we ran into and were stumped on for a while related to controlling the LEDs by
        uploading programs to the Arduino from the Raspberry Pi. Initially, we tried to use the Python subprocess module
        to run a bash script from our GUI script. For some reason, we were able to run the bash script through the
        commandline with no issues but were unable to run the bash script and successfully upload programs to the
        Arduino using a subprocess. It seems to have been due to some package access issues that the Python subprocess
        module could not accommodate but we aren't sure. Next, we tried to upload code to the Arduino using a C program.
        Luckily, this worked which resulted in our current software architecture. Since we needed to use Pygame for the
        GUI, we still needed the Python script. We ended up constructing a software system where the Python script would
        write to a text file based on the user input and the C program would detect changes in the text file and read
        the user input from it and upload the necessary program to the Arduino for the selected preset display.
      </p>
    </div>
  </section>

  <section id="Results" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Results</h2>
      </div>
      <p>In the end, we were able to built and program a volumetric display that was able to generate static (i.e. 2D),
        3D, and animated displays using the persistence of vision effect. We accomplished the basics of what we set out
        to do in our project outline which were to build a volumetric display and be able to generate displays.
        Unfortunately, we weren't able to accomplish our reach goals of allowing for custom image mapping and user
        input.
      </p>
    </div>
  </section>

  <section id="Future Work" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Future Work</h2>
      </div>
      <h3>Implementing Image Mapping</h3>
      <p>Currently, we have pre-determined images mapped to the LED matrix that allow us to generate displays of these
        images using the volumetric display. Ideally, we'd like to be able to simply input an image file to a python
        script that will generate the LED mappings needed and just input these mappings to our display program. This
        would
        also require that we track the RPM and update accordingly. Unfortunately, the current motor doesn't generate a
        high enough RPM to allow for high enough frame rates to display a consistent image (without blinking). We would
        need to acquire to potentially redesign the frame to accommodate a more powerful motor. An additional
        consideration with a new powerful motor is to build a cage around our design so that people can't accidentally
        come into contact with the rapidly spinning LED strips.
      </p>
      <h3>Allowing for Custom Inputs</h3>
      <p>Another feature we'd like to implement in the future is custom image inputs through the GUI. For this to occur,
        we might set up a wifi connection and allow for users to upload an image file to the Raspberry Pi which would be
        converted with the image to LED mapping script mentioned above. We were also considering allowing for users to
        upload STL files since this is a 3D display, however, we would need to write an additional conversion program to
        allow for this.
      </p>

      <p>In future implementations, we hope to allow for more customization with image display and implement some safety
        features since there are concerns with people coming into contact display as it rotates.
      </p>
    </div>
  </section>

  <section id="Team" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Meet the Team</h2>
      </div>
      <p>Hello! We're Yueming and Vicki. We're actually roommates, but we've never seen each other as much as while we
        worked on this project. We've spent a lot of time in the labs over the past few weeks working together on this
        project. We're actually both CS majors (Yueming is CS+MechE and Vicki is CS+ORIE), but we thought it'd be fun
        to take a project-based ECE course. We both worked on laser cutting and building the frame and getting the
        basics set up. </p>
      <div class="heading text-center">
        <img class="img-rounded" src="images/yueming.jpg" alt="" height="240" width="240">
        <h2>Yueming</h2>
        <h3>yl3436@cornell.edu</h3>
        <p>Yueming designed the mechanical structure and worked on 3D animated display LED mapping, as well as the
          touchscreen setup.</p>
        <img class="img-rounded" src="images/vicki.jpeg" alt="" height="240" width="240">
        <h2>Vicki</h2>
        <h3>vzy3@cornell.edu</h3>
        <p>Vicki worked on animation display LED mapping, GUI to Arduino communication, and the report website.</p>
      </div>
    </div>
  </section>

  <section id="Appendix" class="page-section">
    <div class="heading text-center">
      <!-- Heading -->
      <h2>Parts List</h2>
      <h3>Provided Parts</h3>
      <p>Raspberry Pi 4</p>
      <p>PiTFT Touchscreen</p>
      <p>16gb SD Card</p>
      <p>Arduino Uno</p>
      <p>Acrylic</p>
      <p>DC Motor</p>
      <p>Hot Glue</p>
      <p>Wire</p>
      <p>Soldering Iron/Solder</p>
      <p>Capacitor</p>
      <p>Header Pins</p>
      <p>Aluminum Scrap</p>
      <h3>Purchased Parts</h3>
      <p>Adafruit 6 Wire Slip Ring ($14.95)</p>
      <p>Adafruit T-Slot Photo Interrupter ($3.95)</p>
      <p>LED Strip ($30.69)</p>
      <h3>Total Cost: $49.59</h3>
    </div>
  </section>

  <section id="Resources" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Resources</h2>
        <p><a href="https://learn.adafruit.com/adafruit-neopixel-uberguide/the-magic-of-neopixels">Adafruit Neopixel
            Guide</a></p>
        <p><a href="https://courses.ece.cornell.edu/ece5990/ECE5725_Fall2017_projects/bt346-qq39/">Infinity Mirror Music
            Player</a></p>
        <p><a href="https://www.raspberrypi-spy.co.uk/2020/12/install-arduino-ide-on-raspberry-pi/">Arduino Installation
            on
            Raspberry Pi</a></p>
        <p><a href="https://roboticsbackend.com/raspberry-pi-arduino-serial-communication/">Raspberry Pi Arduino Serial
            Communication</a></p>
        <p><a
            href="https://arduino.stackexchange.com/questions/15893/how-to-compile-upload-and-monitor-via-the-linux-command-line">Command
            Line Compiling and Uploading Arduino Code</a></p>
        <p><a href="https://www.adafruit.com/product/3985">Photo Interrupter Data Sheet</a></p>
      </div>
    </div>
  </section>

  <section id="Code" class="page-section">
    <div class="container">
      <div class="heading text-center">
        <!-- Heading -->
        <h2>Code</h2>
        <p><a href="https://github.com/vzy3/volumetric-display">Github Repo</a></p>
      </div>
    </div>
  </section>

  <!--/.page-section-->
  <section class="copyright">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 text-center"> ECE5725 - Volumetric Display - Spring 2024 </div>
      </div>
      <!-- / .row -->
    </div>
  </section>
  <a href="#top" class="topHome"><i class="fa fa-chevron-up fa-2x"></i></a>

  <!--[if lte IE 8]><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><![endif]-->
  <script src="js/modernizr-latest.js"></script>
  <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
  <script src="js/bootstrap.min.js" type="text/javascript"></script>
  <script src="js/jquery.isotope.min.js" type="text/javascript"></script>
  <script src="js/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
  <script src="js/jquery.nav.js" type="text/javascript"></script>
  <script src="js/jquery.fittext.js"></script>
  <script src="js/waypoints.js"></script>
  <script src="js/custom.js" type="text/javascript"></script>
  <script src="js/owl-carousel/owl.carousel.js"></script>
</body>

</html>